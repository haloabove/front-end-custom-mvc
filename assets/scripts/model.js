var grid_data = [
    {
        documentID: 0,
        category: 'word document',
        name: 'Document0',
        description: 'Description Document0',
        creationDate: '2015-04-07 10:02AM',
        lastModifiedDate: '2015-05-07 04:33PM',
        link: 'http://theoffswitch.net/musala/test.doc'
    },
    {
        documentID: 1,
        category: 'word document',
        name: 'Document1',
        description: 'Description Document1',
        creationDate: '2015-04-07 10:02AM',
        lastModifiedDate: '2015-05-07 04:33PM',
        link: 'http://theoffswitch.net/musala/test.doc'
    },
    {
        documentID: 2,
        category: 'word document',
        name: 'Document2',
        description: 'Description Document2',
        creationDate: '2015-04-07 10:02AM',
        lastModifiedDate: '2015-05-07 04:33PM',
        link: 'http://theoffswitch.net/musala/test.doc'
    },
    {
        documentID: 3,
        category: 'excel document',
        name: 'Document3',
        description: 'Description Document3',
        creationDate: '2015-04-07 10:02AM',
        lastModifiedDate: '2015-05-07 04:33PM',
        link: 'http://theoffswitch.net/musala/test.doc'
    },
    {
        documentID: 4,
        category: 'word document',
        name: 'Document4',
        description: 'Description Document4',
        creationDate: '2015-04-07 10:02AM',
        lastModifiedDate: '2015-05-07 04:33PM',
        link: 'http://theoffswitch.net/musala/test.doc'
    },
    {
        documentID: 5,
        category: 'excel document',
        name: 'Document5',
        description: 'Description Document5',
        creationDate: '2015-04-07 10:02AM',
        lastModifiedDate: '2015-05-07 04:33PM',
        link: 'http://theoffswitch.net/musala/test.doc'
    },
    {
        documentID: 6,
        category: 'word document',
        name: 'Document6',
        description: 'Description Document6',
        creationDate: '2015-04-07 10:02AM',
        lastModifiedDate: '2015-05-07 04:33PM',
        link: 'http://theoffswitch.net/musala/test.doc'
    },
    {
        documentID: 7,
        category: 'word document',
        name: 'Document7',
        description: 'Description Document7',
        creationDate: '2015-04-07 10:02AM',
        lastModifiedDate: '2015-05-07 04:33PM',
        link: 'http://theoffswitch.net/musala/test.doc'
    },
    {
        documentID: 8,
        category: 'power point document',
        name: 'Document8',
        description: 'Description Document8',
        creationDate: '2015-04-07 10:02AM',
        lastModifiedDate: '2015-05-07 04:33PM',
        link: 'http://theoffswitch.net/musala/test.doc'
    },
    {
        documentID: 9,
        category: 'excel document',
        name: 'Document9',
        description: 'Description Document9',
        creationDate: '2015-04-07 10:02AM',
        lastModifiedDate: '2015-05-07 04:33PM',
        link: 'http://theoffswitch.net/musala/test.doc'
    },
    {
        documentID: 0,
        category: 'word document',
        name: 'Document0',
        description: 'Description Document0',
        creationDate: '2015-04-07 10:02AM',
        lastModifiedDate: '2015-05-07 04:33PM',
        link: 'http://theoffswitch.net/musala/test.doc'
    },
    {
        documentID: 1,
        category: 'word document',
        name: 'Document1',
        description: 'Description Document1',
        creationDate: '2015-04-07 10:02AM',
        lastModifiedDate: '2015-05-07 04:33PM',
        link: 'http://theoffswitch.net/musala/test.doc'
    },
    {
        documentID: 2,
        category: 'word document',
        name: 'Document2',
        description: 'Description Document2',
        creationDate: '2015-04-07 10:02AM',
        lastModifiedDate: '2015-05-07 04:33PM',
        link: 'http://theoffswitch.net/musala/test.doc'
    },
    {
        documentID: 3,
        category: 'excel document',
        name: 'Document3',
        description: 'Description Document3',
        creationDate: '2015-04-07 10:02AM',
        lastModifiedDate: '2015-05-07 04:33PM',
        link: 'http://theoffswitch.net/musala/test.doc'
    },
    {
        documentID: 4,
        category: 'word document',
        name: 'Document4',
        description: 'Description Document4',
        creationDate: '2015-04-07 10:02AM',
        lastModifiedDate: '2015-05-07 04:33PM',
        link: 'http://theoffswitch.net/musala/test.doc'
    },
    {
        documentID: 5,
        category: 'excel document',
        name: 'Document5',
        description: 'Description Document5',
        creationDate: '2015-04-07 10:02AM',
        lastModifiedDate: '2015-05-07 04:33PM',
        link: 'http://theoffswitch.net/musala/test.doc'
    },
    {
        documentID: 6,
        category: 'word document',
        name: 'Document6',
        description: 'Description Document6',
        creationDate: '2015-04-07 10:02AM',
        lastModifiedDate: '2015-05-07 04:33PM',
        link: 'http://theoffswitch.net/musala/test.doc'
    },
    {
        documentID: 7,
        category: 'word document',
        name: 'Document7',
        description: 'Description Document7',
        creationDate: '2015-04-07 10:02AM',
        lastModifiedDate: '2015-05-07 04:33PM',
        link: 'http://theoffswitch.net/musala/test.doc'
    },
    {
        documentID: 8,
        category: 'power point document',
        name: 'Document8',
        description: 'Description Document8',
        creationDate: '2015-04-07 10:02AM',
        lastModifiedDate: '2015-05-07 04:33PM',
        link: 'http://theoffswitch.net/musala/test.doc'
    },
    {
        documentID: 9,
        category: 'excel document',
        name: 'Document9',
        description: 'Description Document9',
        creationDate: '2015-04-07 10:02AM',
        lastModifiedDate: '2015-05-07 04:33PM',
        link: 'http://theoffswitch.net/musala/test.doc'
    },
    {
        documentID: 0,
        category: 'word document',
        name: 'Document0',
        description: 'Description Document0',
        creationDate: '2015-04-07 10:02AM',
        lastModifiedDate: '2015-05-07 04:33PM',
        link: 'http://theoffswitch.net/musala/test.doc'
    },
    {
        documentID: 1,
        category: 'word document',
        name: 'Document1',
        description: 'Description Document1',
        creationDate: '2015-04-07 10:02AM',
        lastModifiedDate: '2015-05-07 04:33PM',
        link: 'http://theoffswitch.net/musala/test.doc'
    },
    {
        documentID: 2,
        category: 'word document',
        name: 'Document2',
        description: 'Description Document2',
        creationDate: '2015-04-07 10:02AM',
        lastModifiedDate: '2015-05-07 04:33PM',
        link: 'http://theoffswitch.net/musala/test.doc'
    },
    {
        documentID: 3,
        category: 'excel document',
        name: 'Document3',
        description: 'Description Document3',
        creationDate: '2015-04-07 10:02AM',
        lastModifiedDate: '2015-05-07 04:33PM',
        link: 'http://theoffswitch.net/musala/test.doc'
    },
    {
        documentID: 4,
        category: 'word document',
        name: 'Document4',
        description: 'Description Document4',
        creationDate: '2015-04-07 10:02AM',
        lastModifiedDate: '2015-05-07 04:33PM',
        link: 'http://theoffswitch.net/musala/test.doc'
    },
    {
        documentID: 5,
        category: 'excel document',
        name: 'Document5',
        description: 'Description Document5',
        creationDate: '2015-04-07 10:02AM',
        lastModifiedDate: '2015-05-07 04:33PM',
        link: 'http://theoffswitch.net/musala/test.doc'
    },
    {
        documentID: 6,
        category: 'word document',
        name: 'Document6',
        description: 'Description Document6',
        creationDate: '2015-04-07 10:02AM',
        lastModifiedDate: '2015-05-07 04:33PM',
        link: 'http://theoffswitch.net/musala/test.doc'
    },
    {
        documentID: 7,
        category: 'word document',
        name: 'Document7',
        description: 'Description Document7',
        creationDate: '2015-04-07 10:02AM',
        lastModifiedDate: '2015-05-07 04:33PM',
        link: 'http://theoffswitch.net/musala/test.doc'
    },
    {
        documentID: 8,
        category: 'power point document',
        name: 'Document8',
        description: 'Description Document8',
        creationDate: '2015-04-07 10:02AM',
        lastModifiedDate: '2015-05-07 04:33PM',
        link: 'http://theoffswitch.net/musala/test.doc'
    },
    {
        documentID: 9,
        category: 'excel document',
        name: 'Document9',
        description: 'Description Document9',
        creationDate: '2015-04-07 10:02AM',
        lastModifiedDate: '2015-05-07 04:33PM',
        link: 'http://theoffswitch.net/musala/test.doc'
    }
];
var categories = [
    {
        id: 0,
        name: 'Category0'
    },
    {
        id: 1,
        name: 'Category1'
    },
    {
        id: 2,
        name: 'Category2'
    },
    {
        id: 3,
        name: 'Category3'
    },
    {
        id: 4,
        name: 'Category4'
    }
];
app.model = {
    /*
    Function name: categories
    function args: params(parametars), fn(callback function)
    description: get all categories
    return: callback with response
    developer: Tihomir Jovchevski
    */
    categories: function (param, fn) {
        if (!fn) {
            console.log('please add callback function for categories model');
            return false;
        }
        app.model.send_request(param, app.config.server_configuration.url + 'categories', function (obj) {
            categories = obj;
            return fn(obj);
        });
    },
     /*
    Function name: shipOff
    function args: 
    description: send file
    return:
    developer: Tihomir Jovchevski
    */
    shipOff:function(event) {
            var result = event.target.result;
            var fileName = document.getElementById('fileBox').files[0].name; 
            $.post('http://play.eumobile.mk/backend/api.php?req=new', { 
                data: result, 
                name: fileName 
            });
    },
    /*
    Function name: new_document
    function args: params(parametars), fn(callback function)
    description: create new document
    return: callback with response
    developer: Tihomir Jovchevski
    */
    new_document: function (event,param, fn) {
        if (!fn) {
            console.log('please add callback function for new_document model');
            return false;
        }
            app.model.send_request(param, app.config.server_configuration.url + 'new', function (obj) {
                return fn(obj);
            });
    },
    /*
    Function name: edit_doc
    function args: params(parametars), fn(callback function)
    description: edit document
    return: callback with response
    developer: Tihomir Jovchevski
    */
    edit_doc: function (param, fn) {
        if (!fn) {
            console.log('please add callback function for edit_doc model');
            return false;
        }
        app.model.send_request(param, app.config.server_configuration.url + 'edit', function (obj) {
            return fn(obj);
        });
    },
    /*
    Function name: delete_doc
    function args: params(parametars), fn(callback function)
    description: edit document
    return: callback with response
    developer: Tihomir Jovchevski
    */
    delete_doc: function (param, fn) {
        if (!fn) {
            console.log('please add callback function for delete_doc model');
            return false;
        }
        app.model.send_request(param, app.config.server_configuration.url + 'delete', function (obj) {
            return fn(obj);
        });
    },
    /*
    Function name: get_all_docs
    function args: params(parametars), fn(callback function)
    description: get all documents
    return: callback with response
    developer: Tihomir Jovchevski
    */
    get_all_docs: function (param, fn) {
        if (!fn) {
            console.log('please add callback function for get_all_docs model');
            return false;
        }
        app.model.send_request(param, app.config.server_configuration.url + 'all', function (obj) {
            grid_data = obj;
            return fn(obj);
        });
    },
    /*
     * Function name: send_request function
     * args: fn(callback function)
     * description: Send request to server and
     * return back the response trugh callback function return: callback with
     * response developer: Tihomir Jovcevski
     */
    send_request: function (params, path, fn) {
        if (!fn) {
            console.log('please provide callback function!!!');
            return false;
        } else {
            $.ajax({
                url: path,
                xhrFields: {
                    withCredentials: true
                },
                data: params,
                dataType: "text",
                type: 'GET',
                success: function (data) {
                    var json = data;
                    try {
                        json = JSON.parse(data);
                    } catch (e) {
                        console.log(e);
                    }
                    return fn(json);
                },
                error: function (data) {}
            });
        }
    }

};